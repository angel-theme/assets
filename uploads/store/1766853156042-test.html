<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Global Animation System Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ============= Reset Ø¨Ø³ÙŠØ· ============= */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro", sans-serif;
      background: #050816;
      color: #f5f5f5;
      line-height: 1.7;
    }
    section {
      padding: 80px 20px;
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
    }
    h1, h2 {
      font-weight: 700;
      margin-bottom: 16px;
    }
    p {
      opacity: .85;
      margin-bottom: 12px;
    }
    .grid {
      display: grid;
      gap: 16px;
    }
    .grid-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    @media (max-width: 768px) {
      .grid-3 {
        grid-template-columns: 1fr;
      }
    }
    .card {
      padding: 20px;
      border-radius: 16px;
      background: radial-gradient(circle at top, rgba(255,255,255,.06), rgba(8,8,16,1));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 18px 40px rgba(0,0,0,0.4);
      backdrop-filter: blur(12px);
    }

    /* =======================================================
       ğŸ¬ GLOBAL ANIMATION SYSTEM (CSS ONLY)
       ======================================================= */

    [data-animate] {
      opacity: 0;
      transform: translate3d(0,0,0);
      transition-property: opacity, transform;
      transition-timing-function: var(--animate-ease, cubic-bezier(.33,.02,.11,.99));
      transition-duration: var(--animate-duration, .8s);
      will-change: opacity, transform;
    }

    [data-animate].is-animated {
      opacity: 1;
      transform: none;
    }

    /* === Fade Variants === */
    [data-animate="fade-in"] {
      transform: translateY(0);
    }
    [data-animate="fade-up"] {
      transform: translateY(var(--animate-distance, 40px));
    }
    [data-animate="fade-down"] {
      transform: translateY(calc(var(--animate-distance, 40px) * -1));
    }
    [data-animate="fade-left"] {
      transform: translateX(var(--animate-distance, 40px));
    }
    [data-animate="fade-right"] {
      transform: translateX(calc(var(--animate-distance, 40px) * -1));
    }

    /* === Slide Variants (Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø© Ù„ÙƒÙ† ØªÙ‚Ø¯Ø± ØªÙØ±Ù‚ Ù„Ùˆ Ø­Ø§Ø¨Ø¨) === */
    [data-animate="slide-up"] {
      transform: translateY(var(--animate-distance, 60px));
    }
    [data-animate="slide-down"] {
      transform: translateY(calc(var(--animate-distance, 60px) * -1));
    }

    /* === Zoom Variants === */
    [data-animate="zoom-in"] {
      transform: scale(.85);
    }
    [data-animate="zoom-out"] {
      transform: scale(1.15);
    }

    /* === Rotate / Subtle Flip === */
    [data-animate="rotate-in"] {
      transform-origin: center;
      transform: translateY(40px) rotate3d(0,0,1,-6deg);
    }

    /* Hover trigger (data-trigger="hover") */
    [data-trigger="hover"] {
      opacity: 1;
      transform: none;
      transition: transform .35s ease, box-shadow .35s ease, opacity .35s ease;
      cursor: pointer;
    }
    [data-trigger="hover"]:hover {
      transform: translateY(-6px);
      box-shadow: 0 18px 40px rgba(0,0,0,.5);
    }

    /* Ø´ÙƒÙ„ Ø¨Ø³ÙŠØ· Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª */
    .label {
      display: inline-flex;
      padding: 3px 9px;
      border-radius: 999px;
      font-size: 11px;
      letter-spacing: .03em;
      text-transform: uppercase;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      margin-bottom: 6px;
      opacity: .85;
    }

    .spacer {
      height: 40px;
    }

    .anchor-marker {
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(0,255,255,.5);
      color: #0ff;
      font-size: 12px;
      display: inline-flex;
      gap: 8px;
      align-items: center;
      background: rgba(0,0,0,.5);
      margin-bottom: 16px;
    }

    /* Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©: ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© Ø¥Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙØ¹Ù‘Ù„ prefers-reduced-motion */
    @media (prefers-reduced-motion: reduce) {
      [data-animate] {
        transition: none !important;
        transform: none !important;
        opacity: 1 !important;
      }
    }
  </style>
</head>
<body>

  <!-- Hero -->
  <section id="hero">
    <div class="label">Global Animation System</div>
    <h1 data-animate="fade-up" data-delay="0s" data-distance="40px">
      Ù†Ø¸Ø§Ù… Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¹Ø§Ù„Ù…ÙŠ Ø®ÙÙŠÙØŒ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ data-attributes ÙÙ‚Ø·
    </h1>
    <p data-animate="fade-up" data-delay="0.15s" data-distance="30px">
      Ø§Ù„Ù…Ø«Ø§Ù„ Ø¯Ù‡ Ø¨ÙŠØ¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©: Fade, Slide, Zoom, Rotate, Stagger, Anchor, Hover, In-view.
    </p>
  </section>

  <!-- Fade & Directions -->
  <section>
    <div class="label">Fade & Direction</div>
    <h2>Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h2>
    <div class="grid grid-3">
      <div class="card" data-animate="fade-up" data-delay="0s" data-distance="40px">
        <strong>fade-up</strong>
        <p>ØµØ¹ÙˆØ¯ Ù†Ø§Ø¹Ù… Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ØŒ Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‹Ø§ ÙÙŠ Ø§Ù„Ø³ÙƒØ§Ø´Ù†.</p>
      </div>
      <div class="card" data-animate="fade-down" data-delay="0.1s" data-distance="40px">
        <strong>fade-down</strong>
        <p>Ù†Ø²ÙˆÙ„ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙÙˆÙ‚ Ø§Ù„Ù…Ø­ØªÙˆÙ‰.</p>
      </div>
      <div class="card" data-animate="fade-left" data-delay="0.2s" data-distance="40px">
        <strong>fade-left</strong>
        <p>Ø¯Ø®ÙˆÙ„ Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± (ÙÙŠ RTL ÙŠÙƒÙˆÙ† Ø¥Ø­Ø³Ø§Ø³Ù‡ Ø·Ø¨ÙŠØ¹ÙŠ Ø¬Ø¯Ù‹Ø§).</p>
      </div>
    </div>
    <div class="spacer"></div>
    <div class="grid grid-3">
      <div class="card" data-animate="fade-right" data-delay="0s" data-distance="40px">
        <strong>fade-right</strong>
        <p>Ø¯Ø®ÙˆÙ„ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ†ØŒ Ù…Ù…ØªØ§Ø² Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©.</p>
      </div>
      <div class="card" data-animate="slide-up" data-delay="0.1s" data-distance="60px">
        <strong>slide-up</strong>
        <p>Ø­Ø±ÙƒØ© Ù…Ø³Ø§ÙØ© Ø£Ø·ÙˆÙ„ØŒ Ø­Ø§Ø³Ø³ Ø£ÙƒØªØ± ÙƒÙ€ â€œscroll revealâ€.</p>
      </div>
      <div class="card" data-animate="rotate-in" data-delay="0.15s">
        <strong>rotate-in</strong>
        <p>ØªØ¯ÙˆÙŠØ±Ø© Ø¨Ø³ÙŠØ·Ø© Ø£Ù†ÙŠÙ‚Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù„Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø³.</p>
      </div>
    </div>
  </section>

  <!-- Zoom & Duration & Easing -->
  <section>
    <div class="label">Zoom / Duration / Easing</div>
    <h2>Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø²Ù…Ù† ÙˆÙ…Ù†Ø­Ù†Ù‰ Ø§Ù„Ø­Ø±ÙƒØ©</h2>
    <div class="grid grid-3">
      <div class="card"
           data-animate="zoom-in"
           data-delay="0s"
           data-duration="0.6s"
           data-easing="ease-out">
        <strong>zoom-in Ø³Ø±ÙŠØ¹</strong>
        <p>Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø£Ùˆ Call to Action.</p>
      </div>
      <div class="card"
           data-animate="zoom-in"
           data-delay="0.15s"
           data-duration="1s"
           data-easing="cubic-bezier(.33,.02,.11,.99)">
        <strong>zoom-in Ù†Ø§Ø¹Ù…</strong>
        <p>Ø¥Ø­Ø³Ø§Ø³ ÙØ®Ù… Ø²ÙŠ Animations ÙÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø£Ø¨Ù„.</p>
      </div>
      <div class="card"
           data-animate="zoom-out"
           data-delay="0.2s"
           data-duration="0.9s">
        <strong>zoom-out</strong>
        <p>ÙŠÙ‚Ù„Ù„ Ø§Ù„Ø­Ø¬Ù… Ù…Ù† ÙƒØ¨ÙŠØ± Ù„Ø¹Ø§Ø¯ÙŠØŒ Ø­Ù„Ùˆ Ù„Ù„Ø¨Ø§Ù†Ø±Ø§Øª.</p>
      </div>
    </div>
  </section>

  <!-- Stagger Example -->
  <section>
    <div class="label">Stagger</div>
    <h2>ØªØ³Ù„Ø³Ù„ Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ù„ÙƒØ±ÙˆØª (Stagger)</h2>
    <div class="grid grid-3">
      <div class="card"
           data-animate="fade-up"
           data-stagger="group-1"
           data-delay-base="0"
           data-distance="40px">
        <strong>Card 1</strong>
        <p>Ù‡ØªÙ„Ø§Ø­Ø¸ Ø£Ù†Ù‡Ø§ ØªØ·Ù„Ø¹ Ù…ØªØ³Ù„Ø³Ù„Ø© Ù…Ø¹ Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒØ±ÙˆØª.</p>
      </div>
      <div class="card"
           data-animate="fade-up"
           data-stagger="group-1"
           data-delay-base="0"
           data-distance="40px">
        <strong>Card 2</strong>
        <p>Ù†ÙØ³ Ø§Ù„Ø¬Ø±ÙˆØ¨ â†’ Ù†ÙØ³ Ø§Ù„ØªØ§ÙŠÙ…ÙŠÙ†Ø¬ + Ø£ÙˆÙØ³Øª ØªÙ„Ù‚Ø§Ø¦ÙŠ.</p>
      </div>
      <div class="card"
           data-animate="fade-up"
           data-stagger="group-1"
           data-delay-base="0"
           data-distance="40px">
        <strong>Card 3</strong>
        <p>ÙŠÙˆØµÙ„ Ù„Ø¥Ø­Ø³Ø§Ø³ â€œGrid Revealâ€ Ø¹Ø§Ù„Ù…ÙŠ Ø¨Ø®Ø·ÙŠÙ† ÙƒÙˆØ¯.</p>
      </div>
    </div>
  </section>

  <!-- Anchor Example -->
  <section id="anchor-section">
    <div class="anchor-marker">
      <span>ğŸ¯ Anchor</span>
      <span>Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ± Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒØ´Ù† â†’ ÙØ¹Ù‘Ù„ Ø¹Ù†Ø§ØµØ± Ù…Ø±ØªØ¨Ø·Ø© ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„</span>
    </div>
    <p>Ø§Ø³ÙƒØ±ÙˆÙ„ Ù„ØªØ­ØªØŒ Ù‡ØªØ´ÙˆÙ Ø¹Ù†Ø§ØµØ± Ø¨ØªØªØ­Ø±Ùƒ Ù…Ø´ Ù„Ù…Ø§ Ù‡ÙŠ ØªØ¯Ø®Ù„ØŒ Ù„ÙƒÙ† Ù„Ù…Ø§ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒØ´Ù† ÙŠØ¯Ø®Ù„.</p>
  </section>

  <section>
    <div class="label">Linked to Anchor</div>
    <h2>Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù…Ø±ØªØ¨Ø· Ø¨Ù€ data-anchor="#anchor-section"</h2>
    <div class="grid grid-3">
      <div class="card"
           data-animate="fade-up"
           data-anchor="#anchor-section"
           data-delay="0s">
        <strong>Anchor Linked 1</strong>
        <p>ØªØªØ­Ø±Ùƒ Ø£ÙˆÙ„ Ù…Ø§ Ø³ÙƒØ´Ù† Ø§Ù„Ù€ Anchor ÙÙˆÙ‚ ÙŠØ¯Ø®Ù„.</p>
      </div>
      <div class="card"
           data-animate="fade-up"
           data-anchor="#anchor-section"
           data-delay="0.15s">
        <strong>Anchor Linked 2</strong>
        <p>ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø®Ù„Ù‚ Ø¥Ø­Ø³Ø§Ø³ Timeline.</p>
      </div>
      <div class="card"
           data-animate="fade-up"
           data-anchor="#anchor-section"
           data-delay="0.3s">
        <strong>Anchor Linked 3</strong>
        <p>ÙƒÙ„ Ø¯Ù‡ Ù…Ù† ØºÙŠØ± Ù…ÙƒØªØ¨Ø© Ø®Ø§Ø±Ø¬ÙŠØ©.</p>
      </div>
    </div>
  </section>

  <!-- Hover Trigger -->
  <section>
    <div class="label">Hover Trigger</div>
    <h2>data-trigger="hover"</h2>
    <div class="grid grid-3">
      <div class="card" data-trigger="hover">
        <strong>Hover Card</strong>
        <p>Ø¨ÙŠØªØ­Ø±Ùƒ Ø¨Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆÙØ±ØŒ Ù…ÙÙŠØ¯ Ù„Ù„Ù€ UI Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ.</p>
      </div>
      <div class="card" data-trigger="hover">
        <strong>Hover Card</strong>
        <p>Ù…ÙÙŠØ´ Observer Ù‡Ù†Ø§ØŒ ÙƒÙ„Ù‡ CSS.</p>
      </div>
      <div class="card" data-trigger="hover">
        <strong>Hover Card</strong>
        <p>Ø®ÙÙŠÙ Ø¬Ø¯Ù‹Ø§ ÙˆÙ…Ø¨Ø§Ø´Ø±.</p>
      </div>
    </div>
  </section>

  <script>
    // =======================================================
    // ğŸ¥ Global Animation Controller (Vanilla + Lightweight)
    // =======================================================
    (function () {
      const animatedSelector = '[data-animate]';
      const elements = Array.from(document.querySelectorAll(animatedSelector));

      if (!('IntersectionObserver' in window)) {
        // Fallback: ÙØ¹Ù„ ÙƒÙ„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† ÙÙŠ Ø­Ø§Ù„ Ø§Ù„Ù…ØªØµÙØ­ Ù‚Ø¯ÙŠÙ…
        elements.forEach(el => el.classList.add('is-animated'));
        return;
      }

      // ØªØ­Ø¶ÙŠØ± Stagger Groups
      const groups = {};
      elements.forEach((el, index) => {
        const staggerGroup = el.dataset.stagger;
        if (staggerGroup) {
          if (!groups[staggerGroup]) groups[staggerGroup] = [];
          groups[staggerGroup].push(el);
        }
        // default index for delay chaining
        el.dataset.index = index;
      });

      // ØªØ·Ø¨ÙŠÙ‚ stagger delay Ø¯Ø§Ø®Ù„ ÙƒÙ„ Ø¬Ø±ÙˆØ¨
      Object.keys(groups).forEach(groupKey => {
        const group = groups[groupKey];
        group.forEach((el, i) => {
          const base = parseFloat(el.dataset.delayBase || '0') || 0;
          const step = parseFloat(el.dataset.staggerStep || '0.07') || 0.07;
          el.dataset.delay = (base + i * step).toFixed(2) + 's';
        });
      });

      // Anchor mapping
      const anchorMap = {};
      elements.forEach(el => {
        const anchor = el.dataset.anchor;
        if (anchor) {
          if (!anchorMap[anchor]) anchorMap[anchor] = [];
          anchorMap[anchor].push(el);
        }
      });

      // Observer Ù„Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© (in-view Ø£Ùˆ anchor-less)
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const target = entry.target;

          // Ø¹Ù†Ø§ØµØ± anchor: Ù„Ù…Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù€ anchor ÙŠØ¸Ù‡Ø± â†’ Ù†ÙØ¹Ù„ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©
          const anchorKey = '#' + target.id;
          if (anchorMap[anchorKey] && entry.isIntersecting) {
            anchorMap[anchorKey].forEach(el => triggerAnimate(el));
          }

          // Ø¹Ù†Ø§ØµØ± Ø¹Ø§Ø¯ÙŠØ© Ø¨Ø¯ÙˆÙ† anchor
          if (target.hasAttribute('data-animate') && !target.dataset.anchor) {
            if (entry.isIntersecting) {
              triggerAnimate(target);
              if (target.dataset.repeat !== 'true') {
                observer.unobserve(target);
              }
            }
          }
        });
      }, {
        threshold: 0.2
      });

      // Ø±Ø¨Ø· Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù„Ù€ observer
      elements.forEach(el => {
        const trigger = el.dataset.trigger || 'in-view';
        if (trigger === 'in-view' || el.dataset.anchor) {
          // anchor targets or normal animated elements
          const anchor = el.dataset.anchor;
          if (!anchor) {
            observer.observe(el);
          }
        }
      });

      // Observe anchor elements
      Object.keys(anchorMap).forEach(anchorSelector => {
        const anchorEl = document.querySelector(anchorSelector);
        if (anchorEl) observer.observe(anchorEl);
      });

      // on-load trigger
      elements.forEach(el => {
        if ((el.dataset.trigger || '').toLowerCase() === 'on-load') {
          triggerAnimate(el);
        }
      });

      function triggerAnimate(el) {
        if (el.classList.contains('is-animated')) return;

        const delay = el.dataset.delay || '0s';
        const duration = el.dataset.duration || '.8s';
        const easing = el.dataset.easing || 'cubic-bezier(.33,.02,.11,.99)';
        const distance = el.dataset.distance;

        if (distance) {
          el.style.setProperty('--animate-distance', distance);
        }
        el.style.transitionDelay = delay;
        el.style.setProperty('--animate-duration', duration);
        el.style.setProperty('--animate-ease', easing);

        requestAnimationFrame(() => {
          el.classList.add('is-animated');
        });
      }
    })();
  </script>
</body>
</html>
